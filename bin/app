#!/usr/bin/env ruby

$LOAD_PATH.unshift File.join(File.dirname(__FILE__), '..', 'lib')

require 'console'
require 'ui'
require 'db'
require 'lister'
require 'creator'
require 'finder'
require 'conman'

ui      = UI.new(Console.new($stdin, $stdout))
db      = DB.new

actions = [
  Lister.new( ui, db),
  Creator.new(ui, db),
  Finder.new( ui, db)
]

conman  = Conman.new(ui, actions)
conman.run